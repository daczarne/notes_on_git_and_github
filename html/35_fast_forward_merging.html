<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../assets/css/style.css" />
    <link
      rel="shortcut icon"
      href="../assets/favicon/favicon.png"
      type="image/x-icon"
    />
    <title>Fast-forward merging</title>
  </head>
  <body>
    <div class="floating-div">
      <header>
        <div class="btn">
          <a href="34_merging.html" class="previous">&laquo; Previous</a>
        </div>

        <div class="title">
          <h1>Fast-forward merging</h1>
        </div>

        <div class="btn">
          <a href="36_three_way_merges.html" class="next">Next &raquo;</a>
        </div>
      </header>
    </div>

    <main>
      <section>
        <div class="row">
          <div class="left-col">
            <p>
              To make a <em>fast-forward</em> merge first, we need to switch to
              the branch that we want to merge into. Then we use the
              <span class="inline-code">git merge</span> command. For example,
              if we want to merge a branch called
              <span class="git-aqua">bugfix</span> into
              <span class="git-aqua">master</span> we run
            </p>
            <div class="code">
              <code>git merge bugfix</code>
            </div>
          </div>
          <div class="right-col">
            <img
              src="../assets/img/ff-merge-1.png"
              alt=""
              class="git-bash-img"
            />
          </div>
        </div>

        <div class="row">
          <div class="left-col">
            <img
              src="../assets/img/ff-merge-2.png"
              alt=""
              class="git-bash-img"
            />
          </div>
          <div class="right-col">
            <p>
              Fast-forward merges have one disadvantage compared to three-way
              merges. Since they don't have a merge commit, undoing the merge
              (for example if there was a bug in the merged code) can be hard.
              So we usually tell Git to not do an ff-merge, even if it's
              possible. Let's see this in an example.
            </p>
            <br />
            <p>
              Since we don't need the old
              <span class="git-aqua">bugfix</span> branch anymore (because all
              its content has already been merged into
              <span class="git-aqua">master</span>), we delete it and create a
              new <span class="git-aqua">bugfix</span> branch where we'll fix a
              new bug. Once the bug is fixed, we stage and commit the changes,
              and switch to <span class="git-aqua">master</span>. To merge we
              run
            </p>
            <div class="code">
              <code>git merge --no-ff bugfix</code>
            </div>
            <p>
              VS Code will open and we'll be asked to write a commit message. In
              general, the default message is OK. When we close the VS Code tab,
              Git will carry out the merge, using a three-way merge strategy.
            </p>
          </div>
        </div>

        <div class="row">
          <div class="left-col">
            <p>
              Now let's check our log, but using the
              <span class="inline-code">--graph</span> option. So we run
            </p>
            <div class="code">
              <code>git log --oneline --all --graph -5</code>
            </div>
            <p>
              This will show a one-line log of our last 5 commits from all
              branches, using the graph display. Here we can see that commit
              <em>4188bbb</em> was created as a commit message that combined
              commits <em>e6614d7</em> and <em>d106b04</em>.
            </p>
          </div>
          <div class="right-col">
            <img
              src="../assets/img/ff-merge-3.png"
              alt=""
              class="git-bash-img"
            />
          </div>
        </div>

        <div class="row">
          <div class="single-col">
            <p>We can disable fast-forward merges by running</p>
            <div class="code">
              <code>git config ff no</code>
            </div>
            <p>
              This will disable them for this repository alone. If you want to
              disable them for all repositories, just add the
              <span class="inline-code">--global</span> option.
            </p>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <a class="go-home" href="../index.html"><i class="fas fa-home"></i></a>
    </footer>

    <script
      src="https://kit.fontawesome.com/994cc6cf8e.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
