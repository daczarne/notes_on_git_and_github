<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../assets/css/style.css" />
    <link
      rel="shortcut icon"
      href="../assets/favicon/favicon.png"
      type="image/x-icon"
    />
    <title>Splitting a commit</title>
  </head>
  <body>
    <div class="floating-div">
      <header>
        <div class="btn">
          <a href="67_squashing_commits.html" class="previous">
            &laquo; Previous
          </a>
        </div>
        <div class="title">
          <h1>Splitting a commit</h1>
        </div>
        <div class="btn">
          <!-- <a href="#" class="next">Next &raquo;</a> -->
        </div>
      </header>
    </div>
    <main>
      <section>
        <div class="row">
          <div class="left-col">
            <p>
              Sometimes we make a commit that combines changes to two separate
              logical units of our program, each of which should have its own
              commit. We can split these commits using interactive rebasing. As
              an example, let's split commit <em>26986ad</em> into two commits.
              To do this we run
            </p>
            <div class="code">
              <code>git rebase -i 26986ad^</code>
            </div>
          </div>
          <div class="right-col">
            <img
              src="../assets/img/splitting-commits-1.png"
              alt=""
              class="git-bash-img"
            />
          </div>
        </div>
        <div class="row">
          <div class="single-col">
            <p>
              To split a commit we use the <em>edit</em> option. When we close
              the <em>todo</em> file, Git will start the rebase process, but it
              will stop at the commit we want to rebase so that we can make our
              edition. At this point, we can reset and then stage and commit the
              changes that we want to include in one commit, and then stage and
              commit the changes that we want to include in the other commit.
            </p>
          </div>
        </div>
        <div class="row">
          <div class="single-col center">
            <img
              src="../assets/img/splitting-commits-2.png"
              alt=""
              class="git-bash-img"
            />
          </div>
        </div>
        <div class="row">
          <div class="left-col">
            <p>
              Now that we've closed the file, Git started the rebase process. We
              see that the <span class="git-aqua">HEAD</span> pointer is at
              commit <em>26986ad</em>. We can use the
              <span class="inline-code">reset</span> command to go back to the
              state before making that commit. So we run
            </p>
            <div class="code">
              <code>git reset --mixed HEAD^</code>
            </div>
            <p>
              and Git will move the <span class="git-aqua">HEAD</span> pointer
              to one commit before its current position and place the changes
              done in the commit it's moving away from into the working
              directory.
            </p>
            <br />
            <p>
              Now we have two un-staged changes. We can stage and commit them
              one at a time.
            </p>
          </div>
          <div class="right-col">
            <img
              src="../assets/img/splitting-commits-3.png"
              alt=""
              class="git-bash-img"
            />
          </div>
        </div>
        <div class="row">
          <div class="left-col">
            <img
              src="../assets/img/splitting-commits-4.png"
              alt=""
              class="git-bash-img"
            />
          </div>
          <div class="right-col">
            <p>
              Since neither of these commits was part of our commit tree, we
              have now diverged from the master branch. To continue with the
              rebase we run
            </p>
            <div class="code">
              <code>git rebase --continue</code>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="left-col">
            <p>
              If we now take a look at our log, we see that our tree is clean
              and linear. This makes maintaining our project easier.
            </p>
          </div>
          <div class="right-col">
            <img
              src="../assets/img/splitting-commits-5.png"
              alt=""
              class="git-bash-img"
            />
          </div>
        </div>
      </section>
    </main>
    <footer>
      <a class="go-home" href="../index.html"><i class="fas fa-home"></i></a>
    </footer>
    <script
      src="https://kit.fontawesome.com/994cc6cf8e.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
